local Players = game:GetService("Players")
local TweenService = game:GetService("TweenService")
local SoundService = game:GetService("SoundService")
local UserInputService = game:GetService("UserInputService")
local RunService = game:GetService("RunService")

-- 1. CREATE THE MAIN GUI
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "PremiumKeySystem"
ScreenGui.Parent = game:GetService("CoreGui")
ScreenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
ScreenGui.DisplayOrder = 999

-- 2. MAIN FRAME WITH DARK DESIGN
local MainFrame = Instance.new("Frame")
MainFrame.Size = UDim2.new(0, 400, 0, 550) -- Yükseklik arttı
MainFrame.Position = UDim2.new(0.5, -200, 0.5, -275)
MainFrame.AnchorPoint = Vector2.new(0.5, 0.5)
MainFrame.BackgroundColor3 = Color3.fromRGB(20, 20, 25)
MainFrame.BackgroundTransparency = 0.05
MainFrame.BorderSizePixel = 0
MainFrame.ClipsDescendants = true
MainFrame.Parent = ScreenGui

-- Add rounded corners
local UICorner = Instance.new("UICorner")
UICorner.CornerRadius = UDim.new(0, 12)
UICorner.Parent = MainFrame

-- 3. TOP BAR WITH TITLE
local TopBar = Instance.new("Frame")
TopBar.Size = UDim2.new(1, 0, 0, 50)
TopBar.BackgroundColor3 = Color3.fromRGB(30, 30, 40)
TopBar.BorderSizePixel = 0
TopBar.ZIndex = 2
TopBar.Parent = MainFrame

local Title = Instance.new("TextLabel")
Title.Text = "FemWare Security"
Title.Font = Enum.Font.GothamBlack
Title.TextSize = 20
Title.TextColor3 = Color3.fromRGB(200, 170, 255)
Title.Size = UDim2.new(1, 0, 1, 0)
Title.BackgroundTransparency = 1
Title.Parent = TopBar

-- 4. CENTERED IMAGE ABOVE INPUT FIELD
local CenterImage = Instance.new("ImageLabel")
CenterImage.Size = UDim2.new(0.1, 160, 0, 120) -- Kare boyut
CenterImage.Position = UDim2.new(0.5, -15, 0.23, 0)
CenterImage.AnchorPoint = Vector2.new(0.5, 0)
CenterImage.BackgroundTransparency = 1
CenterImage.Image = "rbxassetid://109521089483335" -- Belirtilen ID
CenterImage.Parent = MainFrame

local KeyBox = Instance.new("TextBox")
KeyBox.Size = UDim2.new(0.8, 0, 0, 45)
KeyBox.Position = UDim2.new(0.1, 0, 0.5, 0) -- Konum ayarlandı
KeyBox.BackgroundColor3 = Color3.fromRGB(40, 40, 50)
KeyBox.PlaceholderText = "Enter your key..."
KeyBox.Text = ""
KeyBox.TextColor3 = Color3.new(1, 1, 1)
KeyBox.Font = Enum.Font.Gotham
KeyBox.TextSize = 16
KeyBox.TextXAlignment = Enum.TextXAlignment.Center
KeyBox.Parent = MainFrame


local function ShowNotification(message)
    local notif = Instance.new("Frame")
    notif.Size = UDim2.new(0.8, 0, 0, 50)
    notif.Position = UDim2.new(0.1, 0, 0.85, 0)
    notif.BackgroundColor3 = Color3.fromRGB(60, 60, 80)
    notif.BorderSizePixel = 0
    notif.ZIndex = 10
    
    local stroke = Instance.new("UIStroke")
    stroke.Color = Color3.fromRGB(100, 255, 100)
    stroke.Thickness = 2
    stroke.Parent = notif
    
    local notifCorner = Instance.new("UICorner")
    notifCorner.CornerRadius = UDim.new(0, 8)
    notifCorner.Parent = notif
    
    local textLabel = Instance.new("TextLabel")
    textLabel.Size = UDim2.new(1, 0, 1, 0)
    textLabel.Text = message
    textLabel.Font = Enum.Font.GothamBold
    textLabel.TextSize = 18
    textLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
    textLabel.BackgroundTransparency = 1
    textLabel.Parent = notif
    
    notif.BackgroundTransparency = 0.7
    TweenService:Create(notif, TweenInfo.new(0.3), {BackgroundTransparency = 0.3}):Play()
    
    delay(3, function()
        TweenService:Create(notif, TweenInfo.new(0.5), {BackgroundTransparency = 1}):Play()
        wait(0.5)
        notif:Destroy()
    end)
    
    notif.Parent = MainFrame
end

-- 7. BUTTON CREATION FUNCTION
local function CreateButton(name, position, callback)
    local btn = Instance.new("TextButton")
    btn.Name = name
    btn.Size = UDim2.new(0.8, 0, 0, 45)
    btn.Position = position
    btn.BackgroundColor3 = Color3.fromRGB(100, 65, 165)
    btn.TextColor3 = Color3.new(1, 1, 1)
    btn.Font = Enum.Font.GothamBold
    btn.TextSize = 16
    btn.Text = name
    btn.Parent = MainFrame
    
    btn.MouseButton1Click:Connect(function()
        local sound = Instance.new("Sound")
        sound.SoundId = "rbxassetid://130976108"
        sound.Parent = SoundService
        sound:Play()
        callback()
    end)
    
    return btn
end

-- 8. KEY VALIDATION FUNCTION
local function validateKey(input)
    local validKeys = {
        "X7F2K9LQW3PAM8ZTF",
        "ARMY1744857AMOR",
        "mortalbabapro"
    }
    
    for _, key in pairs(validKeys) do
        if input == key then
            return true
        end
    end
    return false
end

-- 9. CREATE BUTTONS (POSITIONS ADJUSTED)
CreateButton("SUBMIT KEY", UDim2.new(0.1, 0, 0.65, 0), function()
    if validateKey(KeyBox.Text) then
        local sound = Instance.new("Sound")
        sound.SoundId = "rbxassetid://226892749"
        sound.Parent = SoundService
        sound:Play()
        ScreenGui:Destroy()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/gumanba/Scripts/5caa03d81a4ca1a9b2d86149677bafacfab36056/GrowEggs"))()
    else
        local sound = Instance.new("Sound")
        sound.SoundId = "rbxassetid://88503293218755"
        sound.Parent = SoundService
        sound:Play()
        KeyBox.Text = ""
        KeyBox.PlaceholderText = "Invalid key! Try again"
    end
end)

CreateButton("GET KEY", UDim2.new(0.1, 0, 0.77, 0), function()
    setclipboard("https://link-target.net/1348019/femware-scripts")
    ShowNotification("KEY COPIED TO CLIPBOARD!")
end)

CreateButton("DISCORD", UDim2.new(0.1, 0, 0.89, 0), function()
    setclipboard("https://discord.gg/p3sUf7XP")
    ShowNotification("DISCORD LINK COPIED!")
end)

-- 10. MAKE WINDOW DRAGGABLE
local dragging
local dragInput
local dragStart
local startPos

TopBar.InputBegan:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 then
        dragging = true
        dragStart = input.Position
        startPos = MainFrame.Position
        
        input.Changed:Connect(function()
            if input.UserInputState == Enum.UserInputState.End then
                dragging = false
            end
        end)
    end
end)

TopBar.InputChanged:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseMovement then
        dragInput = input
    end
end)

UserInputService.InputChanged:Connect(function(input)
    if input == dragInput and dragging then
        local delta = input.Position - dragStart
        MainFrame.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
    end
end)

-- 11. SHOW GUI IMMEDIATELY
MainFrame.Visible = true